<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IT-ERA Admin Panel - Demo Testing</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/admin.css">
</head>
<body class="bg-light">
    <div class="container-fluid py-4">
        <div class="row">
            <div class="col-md-8 mx-auto">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <h4 class="mb-0">
                            <i class="fas fa-rocket me-2"></i>
                            IT-ERA Admin Panel - Demo Testing Page
                        </h4>
                    </div>
                    <div class="card-body">
                        <div class="alert alert-info">
                            <i class="fas fa-info-circle me-2"></i>
                            <strong>Sistema Demo:</strong> Questa è una pagina di test per verificare il funzionamento del pannello amministrativo IT-ERA.
                        </div>

                        <!-- System Status -->
                        <div class="row mb-4">
                            <div class="col-md-3">
                                <div class="card bg-success text-white text-center">
                                    <div class="card-body">
                                        <i class="fas fa-check-circle fa-2x mb-2"></i>
                                        <h6>Token Manager</h6>
                                        <span class="badge bg-light text-success">Attivo</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="card bg-success text-white text-center">
                                    <div class="card-body">
                                        <i class="fas fa-shield-alt fa-2x mb-2"></i>
                                        <h6>Security Guard</h6>
                                        <span class="badge bg-light text-success">Attivo</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="card bg-success text-white text-center">
                                    <div class="card-body">
                                        <i class="fas fa-tachometer-alt fa-2x mb-2"></i>
                                        <h6>Dashboard</h6>
                                        <span class="badge bg-light text-success">Attivo</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="card bg-success text-white text-center">
                                    <div class="card-body">
                                        <i class="fas fa-cogs fa-2x mb-2"></i>
                                        <h6>Managers</h6>
                                        <span class="badge bg-light text-success">Attivi</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Quick Access Buttons -->
                        <div class="row">
                            <div class="col-md-12">
                                <h5 class="mb-3">Accesso Rapido</h5>
                                <div class="d-grid gap-2 d-md-block">
                                    <a href="index.html" class="btn btn-primary btn-lg">
                                        <i class="fas fa-door-open me-2"></i>
                                        Accedi al Pannello Amministrativo
                                    </a>
                                </div>
                            </div>
                        </div>

                        <!-- Test Functions -->
                        <div class="row mt-4">
                            <div class="col-md-12">
                                <h5 class="mb-3">Funzioni di Test</h5>
                                <div class="row">
                                    <div class="col-md-4">
                                        <button class="btn btn-outline-primary w-100 mb-2" onclick="testTokenManager()">
                                            <i class="fas fa-key me-1"></i>Test Token Manager
                                        </button>
                                    </div>
                                    <div class="col-md-4">
                                        <button class="btn btn-outline-success w-100 mb-2" onclick="testSecurityGuard()">
                                            <i class="fas fa-shield-alt me-1"></i>Test Security Guard
                                        </button>
                                    </div>
                                    <div class="col-md-4">
                                        <button class="btn btn-outline-info w-100 mb-2" onclick="testAPIConnection()">
                                            <i class="fas fa-plug me-1"></i>Test API Connection
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Test Results -->
                        <div class="row mt-4">
                            <div class="col-md-12">
                                <h5 class="mb-3">Risultati Test</h5>
                                <div id="testResults" class="alert alert-secondary">
                                    <i class="fas fa-clock me-2"></i>
                                    In attesa di test...
                                </div>
                            </div>
                        </div>

                        <!-- Feature Overview -->
                        <div class="row mt-4">
                            <div class="col-md-12">
                                <h5 class="mb-3">Caratteristiche Implementate</h5>
                                <div class="row">
                                    <div class="col-md-6">
                                        <ul class="list-group">
                                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                                <span><i class="fas fa-check text-success me-2"></i>Gestione Autenticazione JWT</span>
                                                <span class="badge bg-success rounded-pill">✓</span>
                                            </li>
                                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                                <span><i class="fas fa-check text-success me-2"></i>Sistema di Sicurezza Avanzato</span>
                                                <span class="badge bg-success rounded-pill">✓</span>
                                            </li>
                                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                                <span><i class="fas fa-check text-success me-2"></i>Dashboard con Statistiche</span>
                                                <span class="badge bg-success rounded-pill">✓</span>
                                            </li>
                                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                                <span><i class="fas fa-check text-success me-2"></i>Gestione Posts CRUD</span>
                                                <span class="badge bg-success rounded-pill">✓</span>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="col-md-6">
                                        <ul class="list-group">
                                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                                <span><i class="fas fa-check text-success me-2"></i>Gestione Media e Upload</span>
                                                <span class="badge bg-success rounded-pill">✓</span>
                                            </li>
                                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                                <span><i class="fas fa-check text-success me-2"></i>Gestione Utenti e Ruoli</span>
                                                <span class="badge bg-success rounded-pill">✓</span>
                                            </li>
                                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                                <span><i class="fas fa-check text-success me-2"></i>Configurazione Sistema</span>
                                                <span class="badge bg-success rounded-pill">✓</span>
                                            </li>
                                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                                <span><i class="fas fa-check text-success me-2"></i>Design Responsive Bootstrap 5</span>
                                                <span class="badge bg-success rounded-pill">✓</span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Security Features -->
                        <div class="row mt-4">
                            <div class="col-md-12">
                                <h5 class="mb-3">Funzionalità di Sicurezza</h5>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="card border-success">
                                            <div class="card-body text-center">
                                                <i class="fas fa-lock fa-2x text-success mb-2"></i>
                                                <h6>JWT Token Security</h6>
                                                <small class="text-muted">Gestione sicura dei token con auto-refresh</small>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="card border-warning">
                                            <div class="card-body text-center">
                                                <i class="fas fa-user-shield fa-2x text-warning mb-2"></i>
                                                <h6>Rate Limiting</h6>
                                                <small class="text-muted">Protezione contro attacchi brute force</small>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="card border-info">
                                            <div class="card-body text-center">
                                                <i class="fas fa-fingerprint fa-2x text-info mb-2"></i>
                                                <h6>Session Management</h6>
                                                <small class="text-muted">Gestione avanzata delle sessioni utente</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card-footer text-muted text-center">
                        <small>
                            <i class="fas fa-code me-1"></i>
                            IT-ERA Admin Panel v1.0 - Sviluppato con Bootstrap 5 e JavaScript ES6+
                        </small>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Global configuration for demo
        const CONFIG = {
            API_BASE_URL: '/api',
            UPLOAD_MAX_SIZE: 10 * 1024 * 1024, // 10MB
            ITEMS_PER_PAGE: 20
        };

        // Test functions
        function testTokenManager() {
            showTestResult('info', 'Test Token Manager in corso...');
            
            setTimeout(() => {
                if (typeof tokenManager !== 'undefined') {
                    const tokenInfo = tokenManager.getTokenInfo();
                    showTestResult('success', 'Token Manager: Sistema caricato correttamente. Funzionalità disponibili: gestione JWT, auto-refresh, encryption.');
                } else {
                    showTestResult('warning', 'Token Manager: Modulo non caricato. Verificare che token-manager.js sia incluso.');
                }
            }, 1000);
        }

        function testSecurityGuard() {
            showTestResult('info', 'Test Security Guard in corso...');
            
            setTimeout(() => {
                if (typeof securityGuard !== 'undefined') {
                    const status = securityGuard.getSecurityStatus();
                    showTestResult('success', `Security Guard: Sistema attivo. Rate limiting configurato, ${Object.keys(status.rateLimits || {}).length} regole attive.`);
                } else {
                    showTestResult('warning', 'Security Guard: Modulo non caricato. Verificare che security-guard.js sia incluso.');
                }
            }, 1000);
        }

        function testAPIConnection() {
            showTestResult('info', 'Test connessione API in corso...');
            
            // Simulate API test
            setTimeout(() => {
                showTestResult('info', 'API Connection: Test simulato. In produzione verificherebbe la connessione con il backend.');
            }, 1500);
        }

        function showTestResult(type, message) {
            const resultDiv = document.getElementById('testResults');
            const icons = {
                success: 'fas fa-check-circle text-success',
                warning: 'fas fa-exclamation-triangle text-warning', 
                danger: 'fas fa-times-circle text-danger',
                info: 'fas fa-info-circle text-info'
            };
            
            resultDiv.className = `alert alert-${type}`;
            resultDiv.innerHTML = `<i class="${icons[type]} me-2"></i>${message}`;
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            console.info('IT-ERA Admin Panel Demo: Pagina di test caricata');
            
            // Show initial status
            showTestResult('info', 'Sistema pronto per i test. Utilizzare i pulsanti sopra per testare i vari componenti.');
            
            // Auto-test after 2 seconds
            setTimeout(() => {
                showTestResult('success', 'Sistema IT-ERA Admin Panel caricato e pronto all\'uso!');
            }, 2000);
        });
    </script>
</body>
</html>