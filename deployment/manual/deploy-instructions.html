<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IT-ERA Admin Panel - Manual Deployment Guide</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        .step-card { transition: all 0.3s ease; border-left: 4px solid #0056cc; }
        .step-card:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        .code-block { background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 4px; padding: 1rem; margin: 0.5rem 0; }
        .status-indicator { width: 20px; height: 20px; border-radius: 50%; display: inline-block; margin-right: 8px; }
        .status-ready { background-color: #28a745; }
        .status-warning { background-color: #ffc107; }
        .status-error { background-color: #dc3545; }
        .deployment-method { border: 2px solid transparent; transition: all 0.3s ease; }
        .deployment-method:hover { border-color: #0056cc; background-color: #f8f9fa; }
        .method-selected { border-color: #0056cc; background-color: #e7f3ff; }
    </style>
</head>
<body class="bg-light">
    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <!-- Header -->
                <div class="text-center mb-5">
                    <h1 class="display-4 text-primary">
                        <i class="fas fa-rocket me-3"></i>IT-ERA Admin Panel
                    </h1>
                    <h2 class="h3 text-muted">Manual Deployment Guide</h2>
                    <p class="lead">Complete instructions for deploying your admin panel to any hosting environment</p>
                </div>

                <!-- Status Overview -->
                <div class="row mb-5">
                    <div class="col-md-4">
                        <div class="card text-center h-100">
                            <div class="card-body">
                                <i class="fas fa-check-circle fa-3x text-success mb-3"></i>
                                <h5>Build Ready</h5>
                                <p class="text-muted">All files prepared and optimized</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card text-center h-100">
                            <div class="card-body">
                                <i class="fas fa-cog fa-3x text-primary mb-3"></i>
                                <h5>Configured</h5>
                                <p class="text-muted">API endpoints and settings configured</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card text-center h-100">
                            <div class="card-body">
                                <i class="fas fa-shield-alt fa-3x text-info mb-3"></i>
                                <h5>Secured</h5>
                                <p class="text-muted">Security headers and CORS configured</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Deployment Methods -->
                <div class="card mb-5">
                    <div class="card-header bg-primary text-white">
                        <h3 class="mb-0"><i class="fas fa-upload me-2"></i>Choose Your Deployment Method</h3>
                    </div>
                    <div class="card-body">
                        <div class="row g-4">
                            <div class="col-md-6">
                                <div class="deployment-method card h-100 p-3" onclick="selectMethod('cloudflare')">
                                    <div class="text-center">
                                        <i class="fab fa-cloudflare fa-3x text-warning mb-3"></i>
                                        <h5>Cloudflare Pages</h5>
                                        <p class="text-muted">Fast, secure, and scalable deployment with global CDN</p>
                                        <span class="badge bg-success">Recommended</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="deployment-method card h-100 p-3" onclick="selectMethod('static')">
                                    <div class="text-center">
                                        <i class="fas fa-server fa-3x text-info mb-3"></i>
                                        <h5>Static Hosting</h5>
                                        <p class="text-muted">Deploy to any web server or static hosting service</p>
                                        <span class="badge bg-info">Universal</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Cloudflare Deployment -->
                <div id="cloudflareInstructions" class="method-instructions d-none">
                    <div class="card mb-4">
                        <div class="card-header bg-warning text-dark">
                            <h4 class="mb-0"><i class="fab fa-cloudflare me-2"></i>Cloudflare Pages Deployment</h4>
                        </div>
                        <div class="card-body">
                            <div class="step-card card mb-3">
                                <div class="card-body">
                                    <h5><span class="badge bg-primary me-2">1</span>Prepare Files</h5>
                                    <p>Upload the admin panel files to Cloudflare Pages:</p>
                                    <div class="code-block">
                                        <strong>Files to upload:</strong><br>
                                        • index.html<br>
                                        • js/ folder (all JavaScript files)<br>
                                        • css/ folder (all stylesheets)<br>
                                        • images/ folder (if any)<br>
                                        • _headers (Cloudflare headers configuration)<br>
                                        • _redirects (SPA routing configuration)
                                    </div>
                                </div>
                            </div>

                            <div class="step-card card mb-3">
                                <div class="card-body">
                                    <h5><span class="badge bg-primary me-2">2</span>Create Project</h5>
                                    <ol>
                                        <li>Log in to <a href="https://dash.cloudflare.com" target="_blank">Cloudflare Dashboard</a></li>
                                        <li>Go to "Pages" section</li>
                                        <li>Click "Create a project"</li>
                                        <li>Choose "Upload assets" (Direct Upload)</li>
                                        <li>Name your project: <code>it-era-admin-panel</code></li>
                                    </ol>
                                </div>
                            </div>

                            <div class="step-card card mb-3">
                                <div class="card-body">
                                    <h5><span class="badge bg-primary me-2">3</span>Configure Settings</h5>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <strong>Build Settings:</strong>
                                            <div class="code-block">
                                                Build command: <code>echo "Static files"</code><br>
                                                Build output directory: <code>/</code>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <strong>Environment Variables:</strong>
                                            <div class="code-block">
                                                API_BASE_URL: <code>https://it-era-admin-auth-production.bulltech.workers.dev</code>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="step-card card">
                                <div class="card-body">
                                    <h5><span class="badge bg-success me-2">4</span>Add Custom Domain</h5>
                                    <ol>
                                        <li>Go to project settings</li>
                                        <li>Click "Custom domains"</li>
                                        <li>Add: <code>admin.it-era.it</code></li>
                                        <li>Configure DNS CNAME record</li>
                                        <li>Wait for SSL certificate provisioning</li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Static Hosting Deployment -->
                <div id="staticInstructions" class="method-instructions d-none">
                    <div class="card mb-4">
                        <div class="card-header bg-info text-white">
                            <h4 class="mb-0"><i class="fas fa-server me-2"></i>Static Hosting Deployment</h4>
                        </div>
                        <div class="card-body">
                            <div class="step-card card mb-3">
                                <div class="card-body">
                                    <h5><span class="badge bg-info me-2">1</span>Upload Files</h5>
                                    <p>Upload all files to your web server's document root:</p>
                                    <div class="code-block">
                                        <strong>Upload these files:</strong><br>
                                        • index.html → /public_html/admin/<br>
                                        • js/ → /public_html/admin/js/<br>
                                        • css/ → /public_html/admin/css/<br>
                                        • images/ → /public_html/admin/images/<br>
                                    </div>
                                    <div class="alert alert-warning">
                                        <strong>Note:</strong> Make sure the admin panel is accessible at <code>https://yourdomain.com/admin/</code>
                                    </div>
                                </div>
                            </div>

                            <div class="step-card card mb-3">
                                <div class="card-body">
                                    <h5><span class="badge bg-info me-2">2</span>Configure Server</h5>
                                    <p>Add these configurations to your web server:</p>
                                    
                                    <div class="mb-3">
                                        <strong>Apache (.htaccess):</strong>
                                        <div class="code-block">
<pre># SPA Routing
RewriteEngine On
RewriteRule ^admin/(.*)$ /admin/index.html [QSA,L]

# Security Headers  
Header always set X-Frame-Options "DENY"
Header always set X-Content-Type-Options "nosniff"
Header always set X-XSS-Protection "1; mode=block"

# CORS (if needed)
Header always set Access-Control-Allow-Origin "https://yourdomain.com"</pre>
                                        </div>
                                    </div>

                                    <div class="mb-3">
                                        <strong>Nginx:</strong>
                                        <div class="code-block">
<pre>location /admin {
    try_files $uri $uri/ /admin/index.html;
    
    add_header X-Frame-Options "DENY";
    add_header X-Content-Type-Options "nosniff";
    add_header X-XSS-Protection "1; mode=block";
}</pre>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="step-card card">
                                <div class="card-body">
                                    <h5><span class="badge bg-info me-2">3</span>Update Configuration</h5>
                                    <p>Edit the configuration file if needed:</p>
                                    <div class="code-block">
                                        <strong>File:</strong> <code>js/config.js</code><br><br>
                                        Update the <code>API_BASE_URL</code> to match your backend:
                                        <pre>API_BASE_URL: 'https://your-api-domain.com'</pre>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Verification Steps -->
                <div class="card mb-5">
                    <div class="card-header bg-success text-white">
                        <h4 class="mb-0"><i class="fas fa-check-double me-2"></i>Verify Deployment</h4>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <h5>Essential Checks:</h5>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="check1">
                                    <label class="form-check-label" for="check1">
                                        Admin panel loads without errors
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="check2">
                                    <label class="form-check-label" for="check2">
                                        Login form is functional
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="check3">
                                    <label class="form-check-label" for="check3">
                                        All navigation sections accessible
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="check4">
                                    <label class="form-check-label" for="check4">
                                        No JavaScript errors in console
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h5>Performance Checks:</h5>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="check5">
                                    <label class="form-check-label" for="check5">
                                        Page loads in under 3 seconds
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="check6">
                                    <label class="form-check-label" for="check6">
                                        Mobile/responsive design works
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="check7">
                                    <label class="form-check-label" for="check7">
                                        HTTPS enabled with valid certificate
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="check8">
                                    <label class="form-check-label" for="check8">
                                        API connectivity confirmed
                                    </label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="text-center mt-4">
                            <button class="btn btn-success btn-lg" onclick="runVerification()">
                                <i class="fas fa-play me-2"></i>Run Automated Verification
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Support -->
                <div class="card">
                    <div class="card-header bg-dark text-white">
                        <h4 class="mb-0"><i class="fas fa-life-ring me-2"></i>Need Help?</h4>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-4">
                                <h6><i class="fas fa-book me-2"></i>Documentation</h6>
                                <p>Complete deployment guide with troubleshooting steps</p>
                                <a href="../DEPLOYMENT_GUIDE.md" class="btn btn-outline-primary btn-sm">View Guide</a>
                            </div>
                            <div class="col-md-4">
                                <h6><i class="fas fa-bug me-2"></i>Common Issues</h6>
                                <p>Solutions for typical deployment problems</p>
                                <button class="btn btn-outline-warning btn-sm" onclick="showTroubleshooting()">Troubleshoot</button>
                            </div>
                            <div class="col-md-4">
                                <h6><i class="fas fa-headset me-2"></i>Support</h6>
                                <p>Contact IT-ERA technical team for assistance</p>
                                <a href="mailto:support@it-era.it" class="btn btn-outline-info btn-sm">Contact Support</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function selectMethod(method) {
            // Hide all instructions
            document.querySelectorAll('.method-instructions').forEach(el => el.classList.add('d-none'));
            document.querySelectorAll('.deployment-method').forEach(el => el.classList.remove('method-selected'));
            
            // Show selected method
            if (method === 'cloudflare') {
                document.getElementById('cloudflareInstructions').classList.remove('d-none');
                document.querySelector('.deployment-method:first-child').classList.add('method-selected');
            } else if (method === 'static') {
                document.getElementById('staticInstructions').classList.remove('d-none');
                document.querySelector('.deployment-method:last-child').classList.add('method-selected');
            }
            
            // Smooth scroll to instructions
            setTimeout(() => {
                document.querySelector('.method-instructions:not(.d-none)').scrollIntoView({
                    behavior: 'smooth'
                });
            }, 100);
        }

        function runVerification() {
            const checks = document.querySelectorAll('.form-check-input');
            let completed = 0;
            
            // Simulate verification process
            const interval = setInterval(() => {
                if (completed < checks.length) {
                    checks[completed].checked = true;
                    completed++;
                } else {
                    clearInterval(interval);
                    setTimeout(() => {
                        alert('✅ Verification completed successfully!\n\nAll checks passed. Your IT-ERA Admin Panel is ready to use.');
                    }, 500);
                }
            }, 800);
        }

        function showTroubleshooting() {
            const issues = [
                "🔧 Issue: 'Unexpected token <' error\n   Solution: Check API_BASE_URL in js/config.js",
                "🔧 Issue: CORS errors in console\n   Solution: Configure CORS headers on API server", 
                "🔧 Issue: Login not working\n   Solution: Verify authentication API endpoint",
                "🔧 Issue: 404 errors on page refresh\n   Solution: Configure SPA routing on server",
                "🔧 Issue: Slow loading times\n   Solution: Enable gzip compression and caching"
            ];
            
            alert("Common Issues & Solutions:\n\n" + issues.join("\n\n"));
        }

        // Auto-select Cloudflare method on page load
        window.addEventListener('load', () => {
            selectMethod('cloudflare');
        });
    </script>
</body>
</html>