{
  "product_name": "IT-ERA Chatbot Swarm",
  "version": "2.0.0",
  "description": "AI-powered customer service chatbot with swarm intelligence for IT-ERA cybersecurity and IT solutions",
  "product_overview": {
    "mission": "Transform IT-ERA's customer service from reactive support to proactive lead generation using advanced swarm AI orchestration",
    "target_users": [
      "SMB Decision Makers (IT managers, CEOs, CTOs)",
      "Existing IT-ERA customers needing support",
      "Emergency contacts with urgent IT crises",
      "Price comparison shoppers"
    ]
  },
  "core_features": [
    {
      "name": "Swarm Intelligence Architecture",
      "description": "8 specialized AI agents (Orchestrator, Lead Qualifier, Technical Advisor, Sales Assistant, Memory Keeper, Support Specialist, Performance Monitor, Market Intelligence)",
      "acceptance_criteria": [
        "All 8 agents must be operational",
        "Consensus-based response generation",
        "Byzantine fault tolerance for agent failures",
        "Response time under 2 seconds"
      ]
    },
    {
      "name": "Business Protection System", 
      "description": "Intelligent blocking of technical solutions to protect consulting revenue",
      "acceptance_criteria": [
        "100% compliance with no-technical-solutions policy",
        "Automatic redirection to service offerings",
        "Pattern-based detection of configuration requests",
        "Escalation triggers for high-value technical requests"
      ]
    },
    {
      "name": "Lead Scoring System",
      "description": "Real-time lead qualification with automatic actions",
      "acceptance_criteria": [
        "Score range 0-100 based on company size, urgency, location",
        "Automatic Teams notifications for scores >70",
        "Contact information stored in CRM",
        "Appointment booking for qualified prospects"
      ]
    },
    {
      "name": "AI Cost Optimization",
      "description": "Multi-model provider with cost-performance balance",
      "acceptance_criteria": [
        "70% cost reduction vs traditional (€0.04 vs €0.10 per conversation)",
        "DeepSeek v3.1 as primary model",
        "Automatic fallback to Claude/GPT-4 for complex queries",
        "Monthly cost tracking and optimization"
      ]
    },
    {
      "name": "A/B Testing System",
      "description": "Progressive rollout comparing swarm vs traditional approaches",
      "acceptance_criteria": [
        "Configurable traffic split (currently 50%)",
        "Real-time performance metrics comparison",
        "Automatic optimization based on success rates",
        "Consistent session assignment (same user gets same approach)"
      ]
    }
  ],
  "performance_requirements": {
    "response_time": "<1.6 seconds average (target improvement from 3.2s)",
    "availability": "99.9% uptime",
    "scalability": "Handle unlimited simultaneous conversations",
    "cost_per_query": "€0.04 maximum",
    "lead_conversion_rate": "65% target (improvement from 42%)",
    "accuracy": "87% lead score accuracy target"
  },
  "security_requirements": [
    "Data encryption in transit and at rest",
    "GDPR-compliant data handling",
    "Rate limiting to prevent abuse",
    "Authentication for admin interface",
    "Audit logging for configuration changes"
  ],
  "integration_requirements": [
    "Microsoft Teams webhooks for notifications",
    "Cloudflare Workers platform",
    "Cloudflare KV storage for sessions",
    "OpenRouter API for multi-model access",
    "Email system integration for follow-ups"
  ],
  "business_rules": [
    {
      "rule": "Technical Solution Blocking",
      "description": "Never provide step-by-step technical instructions",
      "examples": ["Configuration requests", "Password/credential help", "DIY solutions"]
    },
    {
      "rule": "Lead Prioritization",
      "description": "High-value leads (score >85) get immediate phone alerts",
      "thresholds": {
        "information_seeker": "0-30",
        "potential_lead": "31-60", 
        "qualified_lead": "61-85",
        "vip_lead": "86-100"
      }
    },
    {
      "rule": "Emergency Handling",
      "description": "Server down/ransomware/critical issues get immediate escalation",
      "response_time": "15 minutes maximum for emergency callback"
    }
  ],
  "test_scenarios": [
    {
      "name": "High-Value PMI Lead",
      "input": "Siamo una PMI con 50 dipendenti a Monza. Ci serve un firewall aziendale e backup per 5TB di dati. Budget disponibile.",
      "expected_outcome": "Lead score >90, Teams notification, professional consultation offer"
    },
    {
      "name": "Technical Configuration Block",
      "input": "Come configuro il firewall WatchGuard per aprire la porta 443?",
      "expected_outcome": "Configuration request blocked, redirect to professional services"
    },
    {
      "name": "Emergency Server Down",
      "input": "Aiuto urgente! Il server non si avvia e abbiamo clienti che aspettano!",
      "expected_outcome": "Emergency escalation, priority Teams alert, guaranteed response time"
    },
    {
      "name": "Product Information Request",
      "input": "Che modelli di firewall WatchGuard avete?",
      "expected_outcome": "Product recommendations without implementation details"
    },
    {
      "name": "Existing Customer Support",
      "input": "Sono Marco di ABC Solutions, abbiamo acquistato il WatchGuard T70. Come va l'installazione?",
      "expected_outcome": "Customer recognition, context recall, personalized support"
    }
  ],
  "success_metrics": {
    "financial_impact": {
      "increased_revenue": "€50,000/year from better qualification and extended hours",
      "cost_savings": "€22,160/year from AI optimization and efficiency",
      "roi": "902% return on investment",
      "payback_period": "6-8 months"
    },
    "operational_metrics": {
      "lead_conversion_improvement": "+55% (42% to 65%)",
      "response_time_improvement": "-56% (3.2s to 1.4s)",
      "cost_per_query_reduction": "-60% (€0.10 to €0.04)",
      "customer_satisfaction_improvement": "+18% (3.8/5 to 4.5/5)"
    }
  },
  "deployment_environment": {
    "platform": "Cloudflare Workers",
    "database": "Cloudflare KV Storage", 
    "ai_provider": "OpenRouter (DeepSeek, Claude, GPT-4)",
    "monitoring": "Built-in analytics dashboard",
    "staging_url": "https://it-era-chatbot-staging.bulltech.workers.dev",
    "production_readiness": "85% complete"
  }
}