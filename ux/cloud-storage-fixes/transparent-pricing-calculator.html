<!-- IMPROVED Transparent Pricing Section -->
<section class="transparent-pricing-section">
    <div class="container">
        <div class="row">
            <div class="col-lg-10 mx-auto text-center">
                <h2 class="mb-4">Prezzi Chiari, Nessuna Sorpresa</h2>
                <p class="lead text-muted mb-5">Scopri esattamente quanto spendi, confronta con la tua soluzione attuale e vedi i risparmi in tempo reale</p>
            </div>
        </div>
        
        <div class="pricing-calculator-wrapper">
            <!-- Company Size Selector -->
            <div class="company-size-selector">
                <h4 class="mb-4 text-center">Seleziona la dimensione della tua azienda:</h4>
                <div class="size-buttons">
                    <button class="size-btn active" data-size="small" data-employees="1-15" data-storage="500">
                        <i class="fas fa-store"></i>
                        <div class="size-info">
                            <h5>Piccola</h5>
                            <span>1-15 dipendenti</span>
                        </div>
                    </button>
                    <button class="size-btn" data-size="medium" data-employees="16-50" data-storage="2000">
                        <i class="fas fa-building"></i>
                        <div class="size-info">
                            <h5>Media</h5>
                            <span>16-50 dipendenti</span>
                        </div>
                    </button>
                    <button class="size-btn" data-size="large" data-employees="51-200" data-storage="8000">
                        <i class="fas fa-industry"></i>
                        <div class="size-info">
                            <h5>Grande</h5>
                            <span>51-200 dipendenti</span>
                        </div>
                    </button>
                    <button class="size-btn" data-size="enterprise" data-employees="200+" data-storage="20000">
                        <i class="fas fa-city"></i>
                        <div class="size-info">
                            <h5>Enterprise</h5>
                            <span>200+ dipendenti</span>
                        </div>
                    </button>
                </div>
            </div>
            
            <!-- Dynamic Pricing Calculator -->
            <div class="row mt-5">
                <div class="col-lg-7">
                    <div class="pricing-calculator-card">
                        <h4 class="calculator-title">Il Tuo Preventivo Personalizzato</h4>
                        
                        <!-- Storage Configuration -->
                        <div class="config-section">
                            <h5>Configurazione Storage</h5>
                            <div class="storage-sliders">
                                <div class="slider-group">
                                    <label>Hot Storage (file quotidiani) - <span id="hot-amount">100</span> GB</label>
                                    <input type="range" id="hot-slider" min="50" max="5000" value="100" class="storage-slider hot">
                                    <div class="slider-price">â‚¬<span id="hot-price">12</span>/mese</div>
                                </div>
                                
                                <div class="slider-group">
                                    <label>Warm Storage (archivi recenti) - <span id="warm-amount">500</span> GB</label>
                                    <input type="range" id="warm-slider" min="100" max="10000" value="500" class="storage-slider warm">
                                    <div class="slider-price">â‚¬<span id="warm-price">30</span>/mese</div>
                                </div>
                                
                                <div class="slider-group">
                                    <label>Cold Storage (archivio storico) - <span id="cold-amount">1000</span> GB</label>
                                    <input type="range" id="cold-slider" min="100" max="50000" value="1000" class="storage-slider cold">
                                    <div class="slider-price">â‚¬<span id="cold-price">20</span>/mese</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Additional Services -->
                        <div class="config-section">
                            <h5>Servizi Aggiuntivi</h5>
                            <div class="service-options">
                                <div class="service-option">
                                    <input type="checkbox" id="managed-backup" checked>
                                    <label for="managed-backup">Backup Gestito Veeam</label>
                                    <span class="service-price">â‚¬89/mese</span>
                                </div>
                                <div class="service-option">
                                    <input type="checkbox" id="priority-support">
                                    <label for="priority-support">Supporto Prioritario 4h</label>
                                    <span class="service-price">â‚¬49/mese</span>
                                </div>
                                <div class="service-option">
                                    <input type="checkbox" id="disaster-recovery">
                                    <label for="disaster-recovery">Disaster Recovery Site</label>
                                    <span class="service-price">â‚¬149/mese</span>
                                </div>
                                <div class="service-option">
                                    <input type="checkbox" id="migration-service" checked>
                                    <label for="migration-service">Migrazione Assistita (una tantum)</label>
                                    <span class="service-price">â‚¬490</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-5">
                    <!-- Live Pricing Summary -->
                    <div class="pricing-summary-card sticky-top">
                        <h4>Il Tuo Piano Cloud</h4>
                        <div class="summary-company">
                            <span class="company-label">Azienda <span id="company-type">Piccola</span></span>
                            <span class="company-employees"><span id="employees-range">1-15</span> dipendenti</span>
                        </div>
                        
                        <div class="cost-breakdown">
                            <div class="cost-item">
                                <span>Storage Hot</span>
                                <span>â‚¬<span id="summary-hot">12</span></span>
                            </div>
                            <div class="cost-item">
                                <span>Storage Warm</span>
                                <span>â‚¬<span id="summary-warm">30</span></span>
                            </div>
                            <div class="cost-item">
                                <span>Storage Cold</span>
                                <span>â‚¬<span id="summary-cold">20</span></span>
                            </div>
                            <div class="cost-item service-cost" id="backup-cost" style="display:none;">
                                <span>Backup Veeam</span>
                                <span>â‚¬89</span>
                            </div>
                            <div class="cost-item service-cost" id="support-cost" style="display:none;">
                                <span>Supporto Priority</span>
                                <span>â‚¬49</span>
                            </div>
                            <div class="cost-item service-cost" id="dr-cost" style="display:none;">
                                <span>Disaster Recovery</span>
                                <span>â‚¬149</span>
                            </div>
                            <div class="cost-separator"></div>
                            <div class="cost-total">
                                <span>Totale Mensile</span>
                                <span class="total-amount">â‚¬<span id="monthly-total">151</span></span>
                            </div>
                            <div class="cost-annual">
                                <span>Totale Annuale</span>
                                <span>â‚¬<span id="annual-total">1,812</span></span>
                            </div>
                        </div>
                        
                        <div class="migration-cost">
                            <div class="migration-label">Setup iniziale:</div>
                            <div class="migration-price">â‚¬<span id="migration-total">490</span> (una tantum)</div>
                        </div>
                        
                        <div class="savings-highlight">
                            <div class="savings-label">ðŸ’° Risparmio stimato vs server fisico:</div>
                            <div class="savings-amount">â‚¬<span id="estimated-savings">8,400</span>/anno</div>
                            <div class="savings-percentage"><span id="savings-percent">82</span>% di riduzione costi</div>
                        </div>
                        
                        <div class="cta-buttons">
                            <button class="btn btn-primary btn-lg w-100 mb-3" onclick="requestQuote()">
                                <i class="fas fa-file-invoice me-2"></i>
                                Richiedi Preventivo Ufficiale
                            </button>
                            <button class="btn btn-outline-primary w-100" onclick="scheduleDemo()">
                                <i class="fas fa-video me-2"></i>
                                Prenota Demo Veeam
                            </button>
                        </div>
                        
                        <div class="guarantee-badge">
                            <i class="fas fa-shield-alt"></i>
                            <span>Garanzia soddisfatti o rimborsati 30 giorni</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Pricing Transparency Notes -->
            <div class="pricing-transparency">
                <h5>Trasparenza Totale sui Prezzi</h5>
                <div class="row g-3">
                    <div class="col-md-4">
                        <div class="transparency-item">
                            <i class="fas fa-check-circle"></i>
                            <div>
                                <strong>Nessun Costo Nascosto</strong>
                                <p>Tutti i costi sono inclusi nel preventivo. Zero sorprese.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="transparency-item">
                            <i class="fas fa-calendar-check"></i>
                            <div>
                                <strong>Prezzo Bloccato 24 Mesi</strong>
                                <p>Il tuo piano rimane invariato per i primi 2 anni.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="transparency-item">
                            <i class="fas fa-arrow-up-arrow-down"></i>
                            <div>
                                <strong>Scaling Flessibile</strong>
                                <p>Aumenta o diminuisci lo storage quando vuoi, si paga solo l'uso.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
.transparent-pricing-section {
    padding: 80px 0;
    background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
}

.pricing-calculator-wrapper {
    background: white;
    border-radius: 24px;
    padding: 50px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.1);
}

.company-size-selector {
    margin-bottom: 40px;
}

.size-buttons {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
}

.size-btn {
    background: white;
    border: 2px solid #e2e8f0;
    border-radius: 16px;
    padding: 25px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100px;
}

.size-btn:hover {
    border-color: #0ea5e9;
    transform: translateY(-5px);
}

.size-btn.active {
    border-color: #0ea5e9;
    background: linear-gradient(135deg, #f0f9ff 0%, #dbeafe 100%);
}

.size-btn i {
    font-size: 2rem;
    color: #0ea5e9;
    margin-right: 15px;
}

.size-info h5 {
    margin: 0;
    color: #1e293b;
    font-weight: 700;
}

.size-info span {
    color: #64748b;
    font-size: 0.9rem;
}

.pricing-calculator-card {
    background: #f8fafc;
    border-radius: 20px;
    padding: 30px;
    height: fit-content;
}

.calculator-title {
    color: #1e293b;
    font-weight: 700;
    margin-bottom: 30px;
}

.config-section {
    margin-bottom: 35px;
}

.config-section h5 {
    color: #374151;
    font-weight: 600;
    margin-bottom: 20px;
    border-bottom: 2px solid #e2e8f0;
    padding-bottom: 10px;
}

.slider-group {
    margin-bottom: 25px;
    background: white;
    padding: 20px;
    border-radius: 12px;
    border-left: 4px solid #0ea5e9;
}

.slider-group label {
    display: block;
    font-weight: 600;
    color: #374151;
    margin-bottom: 15px;
}

.storage-slider {
    width: 100%;
    height: 6px;
    border-radius: 3px;
    outline: none;
    margin-bottom: 10px;
}

.storage-slider.hot {
    background: linear-gradient(90deg, #fbbf24 0%, #f97316 100%);
}

.storage-slider.warm {
    background: linear-gradient(90deg, #60a5fa 0%, #3b82f6 100%);
}

.storage-slider.cold {
    background: linear-gradient(90deg, #94a3b8 0%, #64748b 100%);
}

.slider-price {
    text-align: right;
    font-weight: 700;
    color: #0ea5e9;
    font-size: 1.1rem;
}

.service-options {
    background: white;
    border-radius: 12px;
    padding: 20px;
}

.service-option {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 15px 0;
    border-bottom: 1px solid #e2e8f0;
}

.service-option:last-child {
    border-bottom: none;
}

.service-option label {
    font-weight: 600;
    color: #374151;
    cursor: pointer;
    flex: 1;
    margin-left: 10px;
}

.service-price {
    font-weight: 700;
    color: #0ea5e9;
}

.pricing-summary-card {
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    color: white;
    border-radius: 20px;
    padding: 30px;
    top: 20px;
}

.pricing-summary-card h4 {
    text-align: center;
    margin-bottom: 20px;
    font-weight: 700;
}

.summary-company {
    text-align: center;
    margin-bottom: 30px;
    padding: 15px;
    background: rgba(255,255,255,0.1);
    border-radius: 12px;
}

.company-label {
    display: block;
    font-weight: 600;
    margin-bottom: 5px;
}

.company-employees {
    display: block;
    font-size: 0.9rem;
    opacity: 0.8;
}

.cost-breakdown {
    margin-bottom: 25px;
}

.cost-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 0;
    border-bottom: 1px solid rgba(255,255,255,0.1);
}

.cost-item:last-child {
    border-bottom: none;
}

.cost-separator {
    height: 1px;
    background: rgba(255,255,255,0.3);
    margin: 15px 0;
}

.cost-total {
    font-size: 1.3rem;
    font-weight: 700;
}

.total-amount {
    color: #22c55e;
}

.cost-annual {
    font-size: 0.9rem;
    opacity: 0.8;
    margin-top: 5px;
}

.migration-cost {
    background: rgba(249, 115, 22, 0.2);
    padding: 15px;
    border-radius: 10px;
    margin-bottom: 20px;
    text-align: center;
}

.migration-label {
    font-size: 0.9rem;
    opacity: 0.8;
}

.migration-price {
    font-weight: 700;
    color: #f97316;
    font-size: 1.1rem;
}

.savings-highlight {
    background: rgba(34, 197, 94, 0.2);
    padding: 20px;
    border-radius: 12px;
    margin-bottom: 25px;
    text-align: center;
}

.savings-label {
    font-size: 0.9rem;
    margin-bottom: 10px;
}

.savings-amount {
    font-size: 1.5rem;
    font-weight: 800;
    color: #22c55e;
    margin-bottom: 5px;
}

.savings-percentage {
    font-size: 0.9rem;
    opacity: 0.9;
}

.cta-buttons {
    margin-bottom: 20px;
}

.guarantee-badge {
    text-align: center;
    font-size: 0.85rem;
    opacity: 0.9;
    display: flex;
    align-items: center;
    justify-content: center;
}

.guarantee-badge i {
    margin-right: 8px;
    color: #22c55e;
}

.pricing-transparency {
    margin-top: 50px;
    padding-top: 40px;
    border-top: 2px solid #e2e8f0;
}

.pricing-transparency h5 {
    text-align: center;
    color: #1e293b;
    font-weight: 700;
    margin-bottom: 30px;
}

.transparency-item {
    display: flex;
    align-items: flex-start;
}

.transparency-item i {
    color: #22c55e;
    font-size: 1.2rem;
    margin-right: 15px;
    margin-top: 5px;
}

.transparency-item strong {
    color: #1e293b;
    font-weight: 600;
    display: block;
    margin-bottom: 5px;
}

.transparency-item p {
    color: #64748b;
    font-size: 0.9rem;
    margin: 0;
}

@media (max-width: 768px) {
    .pricing-calculator-wrapper {
        padding: 30px 20px;
    }
    
    .size-buttons {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .size-btn {
        padding: 20px 15px;
        min-height: 80px;
    }
    
    .size-btn i {
        font-size: 1.5rem;
        margin-right: 10px;
    }
    
    .pricing-summary-card {
        margin-top: 30px;
        position: static !important;
    }
}
</style>

<script>
// Pricing Calculator Logic
const pricingData = {
    hot: 0.12,    // â‚¬/GB/month
    warm: 0.06,   // â‚¬/GB/month
    cold: 0.02,   // â‚¬/GB/month
    services: {
        backup: 89,
        support: 49,
        dr: 149,
        migration: 490
    }
};

let currentConfig = {
    hot: 100,
    warm: 500,
    cold: 1000,
    services: ['backup', 'migration']
};

// Initialize calculator
document.addEventListener('DOMContentLoaded', function() {
    updateCalculator();
    
    // Company size selector
    document.querySelectorAll('.size-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            document.querySelectorAll('.size-btn').forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            
            const size = this.dataset.size;
            const employees = this.dataset.employees;
            const storage = parseInt(this.dataset.storage);
            
            // Update display
            document.getElementById('company-type').textContent = this.querySelector('h5').textContent;
            document.getElementById('employees-range').textContent = employees;
            
            // Update default values based on company size
            updateDefaultValues(size, storage);
            updateCalculator();
        });
    });
    
    // Storage sliders
    ['hot', 'warm', 'cold'].forEach(type => {
        const slider = document.getElementById(`${type}-slider`);
        slider.addEventListener('input', function() {
            currentConfig[type] = parseInt(this.value);
            updateCalculator();
        });
    });
    
    // Service checkboxes
    document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
        checkbox.addEventListener('change', function() {
            const service = this.id.replace('-', '_').replace('managed_', '').replace('priority_', '').replace('disaster_', 'dr').replace('migration_', 'migration');
            
            if (this.checked) {
                if (!currentConfig.services.includes(service)) {
                    currentConfig.services.push(service);
                }
            } else {
                currentConfig.services = currentConfig.services.filter(s => s !== service);
            }
            updateCalculator();
        });
    });
});

function updateDefaultValues(size, baseStorage) {
    const defaults = {
        small: { hot: 100, warm: 300, cold: 500 },
        medium: { hot: 500, warm: 1000, cold: 2000 },
        large: { hot: 1500, warm: 3000, cold: 8000 },
        enterprise: { hot: 5000, warm: 10000, cold: 20000 }
    };
    
    const config = defaults[size];
    
    // Update sliders
    document.getElementById('hot-slider').value = config.hot;
    document.getElementById('warm-slider').value = config.warm;
    document.getElementById('cold-slider').value = config.cold;
    
    // Update config
    currentConfig.hot = config.hot;
    currentConfig.warm = config.warm;
    currentConfig.cold = config.cold;
}

function updateCalculator() {
    // Update amounts display
    document.getElementById('hot-amount').textContent = currentConfig.hot;
    document.getElementById('warm-amount').textContent = currentConfig.warm;
    document.getElementById('cold-amount').textContent = currentConfig.cold;
    
    // Calculate costs
    const hotCost = Math.round(currentConfig.hot * pricingData.hot);
    const warmCost = Math.round(currentConfig.warm * pricingData.warm);
    const coldCost = Math.round(currentConfig.cold * pricingData.cold);
    
    // Update individual prices
    document.getElementById('hot-price').textContent = hotCost;
    document.getElementById('warm-price').textContent = warmCost;
    document.getElementById('cold-price').textContent = coldCost;
    
    // Update summary
    document.getElementById('summary-hot').textContent = hotCost;
    document.getElementById('summary-warm').textContent = warmCost;
    document.getElementById('summary-cold').textContent = coldCost;
    
    // Calculate total
    let monthlyTotal = hotCost + warmCost + coldCost;
    let migrationTotal = 0;
    
    // Add services
    currentConfig.services.forEach(service => {
        if (service === 'migration') {
            migrationTotal += pricingData.services.migration;
            document.getElementById('migration-total').textContent = migrationTotal;
        } else {
            const cost = pricingData.services[service];
            monthlyTotal += cost;
            
            // Show/hide service costs
            const element = document.getElementById(`${service}-cost`);
            if (element) {
                element.style.display = 'flex';
                element.querySelector('span:last-child').textContent = `â‚¬${cost}`;
            }
        }
    });
    
    // Hide unchecked services
    ['backup', 'support', 'dr'].forEach(service => {
        if (!currentConfig.services.includes(service)) {
            const element = document.getElementById(`${service}-cost`);
            if (element) element.style.display = 'none';
        }
    });
    
    // Update totals
    document.getElementById('monthly-total').textContent = monthlyTotal;
    document.getElementById('annual-total').textContent = (monthlyTotal * 12).toLocaleString();
    
    // Calculate savings (vs physical server)
    const totalStorage = currentConfig.hot + currentConfig.warm + currentConfig.cold;
    const estimatedServerCost = Math.round(totalStorage * 0.5 + monthlyTotal * 2.5); // Rough estimate
    const annualSavings = Math.max(0, estimatedServerCost * 12 - monthlyTotal * 12);
    const savingsPercent = estimatedServerCost > 0 ? Math.round((annualSavings / (estimatedServerCost * 12)) * 100) : 0;
    
    document.getElementById('estimated-savings').textContent = annualSavings.toLocaleString();
    document.getElementById('savings-percent').textContent = savingsPercent;
}

function requestQuote() {
    // In a real implementation, this would open a modal or redirect to a form
    alert('Verrai reindirizzato al form per richiedere il preventivo ufficiale');
}

function scheduleDemo() {
    // In a real implementation, this would open a calendar booking system
    alert('Verrai reindirizzato al sistema di prenotazione demo Veeam');
}
</script>